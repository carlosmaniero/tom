<div ng-include="'templates/partials/navbar.html'"></div>

<div ng-include="'templates/partials/error.html'"></div>

<div ng-hide="loading">
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">
          <h2 class="title">Qual tendência provocará o</h2>
          <h2 class="title">maior impacto em seu negócio?</h2>
          </h2>
            <div class="square-container">
                <div class="square" ng-click="setWinner(currentDuel.first_trend)">
                    <div class="block" ng-class="{'loading':saving, 'active': isSelected(currentDuel.first_trend)}">
                        <div class="centered">
                            <h1>{{ currentDuel.first_trend.name }}</h1>
                        </div>
                    </div>
                </div>
                <div class="square" ng-click="setWinner(currentDuel.second_trend)">
                    <div class="block" ng-class="{'loading':saving, 'active': isSelected(currentDuel.second_trend)}">
                        <div class="centered">
                            <h1>{{ currentDuel.second_trend.name }}</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">
            <div class="info">
                <div class="info-text" ng-show="showTrendInfoBox">
                    <span class="info-title">{{trendInfo.name}}</span>
                    <svg class="info-close" ng-click="showTrendInfo(false)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 279.2 281.5"><circle class="info-close-outer" cx="141.7" cy="142.7" r="124"/><path class="info-close-line" d="M94.6 103.8l86.7 86.7M94.6 190.5l86.7-86.7"/></svg>
                    <p class="info-description">{{trendInfo.description}}</p>
                </div>
                <div class="info-container">
                    <svg ng-click="showTrendInfo(true, currentDuel.first_trend)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 279.2 281.5"><path class="st0" d="M266.8 143.2c.1 69.2-56.7 126.4-127.5 125.3-67.6-1.1-123.6-56.4-123.2-126.1.4-68.8 56.4-125 126.2-124.6 69.1.4 124.7 56.6 124.5 125.4zm-142-17.1c0 .3-.1.4-.1.5l-3.6 16.8c-2.4 11.4-4.9 22.8-7.3 34.2-1.6 7.9-3.3 15.7-4.8 23.7-.7 4-.9 8-.1 12.1.8 4.5 2.8 8.4 6.5 11.2 4.1 3.2 8.9 4.4 14 4.7 3.6.2 7.2 0 10.7-.6 5.7-1 11-2.8 15.9-5.8.3-.2.6-.6.6-.9 1.2-5.8 2.5-11.6 3.7-17.3.1-.6.2-1.1.3-1.8-1.7.7-3.2 1.5-4.8 2.1-2.5 1-5.1 1.7-7.8 1.4-2.6-.2-4.3-1.7-4.6-4.2-.1-1 0-2.1.2-3.2.5-2.9 1.1-5.8 1.7-8.7 1.8-8.4 3.5-16.8 5.3-25.2 2-9.3 4-18.6 5.9-28 2.1-9.8 4.2-19.6 6.2-29.5.4-2 .8-3.9 1.3-6h-50.3c-.6 0-.8.2-.9.8-1.4 6.6-2.8 13.1-4.2 19.7-.3 1.3-.5 2.6-.8 3.9 5.9.1 11.4.1 17 .1zm8.6-54.3c.1.6.1 1.5.2 2.4.6 3.8 2.2 7 5.3 9.4 4 3.1 8.6 3.8 13.5 2.9 5.4-1 9.9-3.6 13.7-7.6 4.4-4.7 6.9-10.2 6.4-16.7-.3-3.9-1.9-7.2-4.9-9.8-4.2-3.7-9.2-4.5-14.5-3.4-5.6 1.1-10.3 4-14 8.3-3.6 4-5.6 8.7-5.7 14.5z"/></svg>
                </div>
                <div class="info-container">
                    <svg ng-click="showTrendInfo(true, currentDuel.second_trend)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 279.2 281.5"><path class="st0" d="M266.8 143.2c.1 69.2-56.7 126.4-127.5 125.3-67.6-1.1-123.6-56.4-123.2-126.1.4-68.8 56.4-125 126.2-124.6 69.1.4 124.7 56.6 124.5 125.4zm-142-17.1c0 .3-.1.4-.1.5l-3.6 16.8c-2.4 11.4-4.9 22.8-7.3 34.2-1.6 7.9-3.3 15.7-4.8 23.7-.7 4-.9 8-.1 12.1.8 4.5 2.8 8.4 6.5 11.2 4.1 3.2 8.9 4.4 14 4.7 3.6.2 7.2 0 10.7-.6 5.7-1 11-2.8 15.9-5.8.3-.2.6-.6.6-.9 1.2-5.8 2.5-11.6 3.7-17.3.1-.6.2-1.1.3-1.8-1.7.7-3.2 1.5-4.8 2.1-2.5 1-5.1 1.7-7.8 1.4-2.6-.2-4.3-1.7-4.6-4.2-.1-1 0-2.1.2-3.2.5-2.9 1.1-5.8 1.7-8.7 1.8-8.4 3.5-16.8 5.3-25.2 2-9.3 4-18.6 5.9-28 2.1-9.8 4.2-19.6 6.2-29.5.4-2 .8-3.9 1.3-6h-50.3c-.6 0-.8.2-.9.8-1.4 6.6-2.8 13.1-4.2 19.7-.3 1.3-.5 2.6-.8 3.9 5.9.1 11.4.1 17 .1zm8.6-54.3c.1.6.1 1.5.2 2.4.6 3.8 2.2 7 5.3 9.4 4 3.1 8.6 3.8 13.5 2.9 5.4-1 9.9-3.6 13.7-7.6 4.4-4.7 6.9-10.2 6.4-16.7-.3-3.9-1.9-7.2-4.9-9.8-4.2-3.7-9.2-4.5-14.5-3.4-5.6 1.1-10.3 4-14 8.3-3.6 4-5.6 8.7-5.7 14.5z"/></svg>
                </div>
                <div class="info-skip text-center">
                     <a class="btn btn-link btn-skip" ng-click="skip()">Pular duelo &raquo;</a>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">
            <div class="trend-bar">
                <div class="trend-bar-counter">{{getCurrentPage()}}/{{totalDuels}}</div>
                <div class="bars">
                    <div class="bar" ng-repeat="i in getDuelCount(totalDuels) track by $index" ng-class="{'bar-completed': $index < getCurrentPage()}"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-show="loading" class="text-center">
    <div ng-include="'templates/partials/loading.html'"></div>
</div>
